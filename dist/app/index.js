"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;
var _express = _interopRequireDefault(require("express"));
var _cors = _interopRequireDefault(require("cors"));
var _bodyParser = _interopRequireDefault(require("body-parser"));
var _mongoose = _interopRequireDefault(require("mongoose"));
var _compression = _interopRequireDefault(require("compression"));
var _routes = _interopRequireDefault(require("./routes"));
var _secrets = require("./util/secrets");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
var app = (0, _express["default"])();
app.use((0, _compression["default"])());
app.use((0, _cors["default"])());
app.use(_bodyParser["default"].json());

// Middleware to delay all requests by 3 seconds
// app.use((req, res, next) => {
// 	setTimeout(next, 3000)
// })

// Health Check
app.get('/', function (_req, res) {
  return res.send('Express Typescript on Vercel');
});
app.use(_routes["default"]);
var mongoUrl = _secrets.MONGODB_URI;
_mongoose["default"].connect(mongoUrl);
var _default = app;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfYm9keVBhcnNlciIsIl9tb25nb29zZSIsIl9jb21wcmVzc2lvbiIsIl9yb3V0ZXMiLCJfc2VjcmV0cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29tcHJlc3Npb24iLCJjb3JzIiwiYm9keVBhcnNlciIsImpzb24iLCJnZXQiLCJfcmVxIiwicmVzIiwic2VuZCIsInJvdXRlcyIsIm1vbmdvVXJsIiwiTU9OR09EQl9VUkkiLCJtb25nb29zZSIsImNvbm5lY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBwL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzLCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcidcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcbmltcG9ydCBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbidcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0J1xuXG5pbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJ1xuXG5pbXBvcnQgeyBNT05HT0RCX1VSSSwgU0VTU0lPTl9TRUNSRVQgfSBmcm9tICcuL3V0aWwvc2VjcmV0cydcblxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5cbmFwcC51c2UoY29tcHJlc3Npb24oKSlcbmFwcC51c2UoY29ycygpKVxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcblxuLy8gTWlkZGxld2FyZSB0byBkZWxheSBhbGwgcmVxdWVzdHMgYnkgMyBzZWNvbmRzXG4vLyBhcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gXHRzZXRUaW1lb3V0KG5leHQsIDMwMDApXG4vLyB9KVxuXG4vLyBIZWFsdGggQ2hlY2tcbmFwcC5nZXQoJy8nLCAoX3JlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xuXHRyZXR1cm4gcmVzLnNlbmQoJ0V4cHJlc3MgVHlwZXNjcmlwdCBvbiBWZXJjZWwnKVxufSlcblxuYXBwLnVzZShyb3V0ZXMpXG5cbmNvbnN0IG1vbmdvVXJsID0gTU9OR09EQl9VUkkgYXMgc3RyaW5nXG5tb25nb29zZS5jb25uZWN0KG1vbmdvVXJsKVxuXG5leHBvcnQgZGVmYXVsdCBhcHBcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksWUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQU0sUUFBQSxHQUFBTixPQUFBO0FBQTRELFNBQUFELHVCQUFBUSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFFNUQsSUFBTUUsR0FBRyxHQUFHLElBQUFDLG1CQUFPLEVBQUMsQ0FBQztBQUVyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsdUJBQVcsRUFBQyxDQUFDLENBQUM7QUFDdEJILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLElBQUFFLGdCQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ2ZKLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRyxzQkFBVSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBTixHQUFHLENBQUNPLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQ0MsSUFBYSxFQUFFQyxHQUFhLEVBQUs7RUFDOUMsT0FBT0EsR0FBRyxDQUFDQyxJQUFJLENBQUMsOEJBQThCLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBRUZWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDUyxrQkFBTSxDQUFDO0FBRWYsSUFBTUMsUUFBUSxHQUFHQyxvQkFBcUI7QUFDdENDLG9CQUFRLENBQUNDLE9BQU8sQ0FBQ0gsUUFBUSxDQUFDO0FBQUEsSUFBQUksUUFBQSxHQUVYaEIsR0FBRztBQUFBaUIsT0FBQSxjQUFBRCxRQUFBIn0=